## 1. Before all optimizations, the code is as follows:
```txt

·--------------------------------------|----------------------------|-----------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: false  ·  Runs: 0  ·  Block limit: 30000000 gas  │
·······································|····························|···········|······························
|  Methods                                                                                                    │
·············|·························|··············|·············|···········|···············|··············
|  Contract  ·  Method                 ·  Min         ·  Max        ·  Avg      ·  # calls      ·  usd (avg)  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  burn                   ·           -  ·          -  ·    33475  ·            7  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  burnBatch              ·       35686  ·      42410  ·    39720  ·            5  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  mint                   ·       32909  ·      50021  ·    49428  ·           29  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  mintBatch              ·           -  ·          -  ·    75924  ·            3  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·       37087  ·      89119  ·    71709  ·            6  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  safeTransferFrom       ·       30401  ·      57601  ·    48504  ·            6  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TGame     ·  setApprovalForAll      ·           -  ·          -  ·    46766  ·            5  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TMoney    ·  approve                ·       46663  ·      46675  ·    46664  ·            9  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TMoney    ·  burn                   ·           -  ·          -  ·    34403  ·            3  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TMoney    ·  mint                   ·           -  ·          -  ·    37040  ·            3  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TMoney    ·  transfer               ·       29804  ·      52516  ·    46838  ·            4  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  TMoney    ·  transferFrom           ·           -  ·          -  ·    53813  ·            3  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  approve                ·       48786  ·      51092  ·    49115  ·            7  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  burn                   ·           -  ·          -  ·    29294  ·            3  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  mint                   ·           -  ·          -  ·    71383  ·           25  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  safeTransferFrom       ·           -  ·          -  ·    56079  ·            1  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  setApprovalForAll      ·       24942  ·      46854  ·    44418  ·            9  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Tnft      ·  transferFrom           ·       53284  ·      57911  ·    54680  ·            5  ·          -  │
·············|·························|··············|·············|···········|···············|··············
|  Deployments                         ·                                        ·  % of limit   ·             │
·······································|··············|·············|···········|···············|··············
|  TGame                               ·           -  ·          -  ·  2471491  ·        8.2 %  ·          -  │
·······································|··············|·············|···········|···············|··············
|  TMoney                              ·           -  ·          -  ·  1196794  ·          4 %  ·          -  │
·······································|··············|·············|···········|···············|··············
|  Tnft                                ·           -  ·          -  ·  1943185  ·        6.5 %  ·          -  │
·--------------------------------------|--------------|-------------|-----------|---------------|-------------·
```
## 2. After adding the optimization flag and runs=0, the code is as follows:
```txt
·--------------------------------------|---------------------------|-----------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 0  ·  Block limit: 30000000 gas  │
·······································|···························|···········|······························
|  Methods                                                                                                   │
·············|·························|·············|·············|···········|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg      ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·    32714  ·            7  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  burnBatch              ·      35315  ·      41967  ·    39306  ·            5  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  mint                   ·      32164  ·      49276  ·    48683  ·           29  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·    75433  ·            3  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      36261  ·      88211  ·    70869  ·            6  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  safeTransferFrom       ·      29544  ·      56744  ·    47640  ·            6  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·    46327  ·            5  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TMoney    ·  approve                ·      46088  ·      46100  ·    46089  ·            9  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·    33868  ·            3  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·    36385  ·            3  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TMoney    ·  transfer               ·      29033  ·      51745  ·    46067  ·            4  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·    52848  ·            3  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  approve                ·      48438  ·      50697  ·    48761  ·            7  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·    28977  ·            3  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·    70894  ·           25  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·    55483  ·            1  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24503  ·      46415  ·    43979  ·            9  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Tnft      ·  transferFrom           ·      52681  ·      57242  ·    54053  ·            5  ·          -  │
·············|·························|·············|·············|···········|···············|··············
|  Deployments                         ·                                       ·  % of limit   ·             │
·······································|·············|·············|···········|···············|··············
|  TGame                               ·          -  ·          -  ·  1428543  ·        4.8 %  ·          -  │
·······································|·············|·············|···········|···············|··············
|  TMoney                              ·          -  ·          -  ·   641297  ·        2.1 %  ·          -  │
·······································|·············|·············|···········|···············|··············
|  Tnft                                ·          -  ·          -  ·  1012512  ·        3.4 %  ·          -  │
·--------------------------------------|-------------|-------------|-----------|---------------|-------------·
```
## Conclusion 1->2:

**Methods:**
- The optimization has led to a reduction in gas costs for most methods, with average savings ranging from 0.72% to 2.63%. This indicates a general improvement in gas efficiency due to the optimization process.

**Deployments:**
- There has been a significant reduction in gas costs for contract deployments, with savings ranging from 40.88% to 46.76%. This represents a substantial decrease in deployment costs, making it a highly effective optimization.

Overall, enabling the optimizer has resulted in notable improvements in gas efficiency for both contract methods and deployments.

---

Here is the comparison table:

| **Contract** | **Method**               | **Avg Gas (Before)** | **Avg Gas (After)** | **Difference (Gas)** | **Percentage Change (%)** |
|--------------|--------------------------|----------------------|---------------------|----------------------|---------------------------|
| **TGame**    | burn                      | 33475                | 32714               | -761                 | -2.27%                    |
| **TGame**    | burnBatch                 | 39720                | 39306               | -414                 | -1.04%                    |
| **TGame**    | mint                      | 49428                | 48683               | -745                 | -1.51%                    |
| **TGame**    | mintBatch                 | 75924                | 75433               | -491                 | -0.65%                    |
| **TGame**    | safeBatchTransferFrom     | 71709                | 70869               | -840                 | -1.17%                    |
| **TGame**    | safeTransferFrom          | 48504                | 47640               | -864                 | -1.78%                    |
| **TGame**    | setApprovalForAll         | 46766                | 46327               | -439                 | -0.94%                    |
| **TMoney**   | approve                   | 46664                | 46089               | -575                 | -1.23%                    |
| **TMoney**   | burn                      | 34403                | 33868               | -535                 | -1.56%                    |
| **TMoney**   | mint                      | 37040                | 36385               | -655                 | -1.77%                    |
| **TMoney**   | transfer                  | 46838                | 46067               | -771                 | -1.65%                    |
| **TMoney**   | transferFrom              | 53813                | 52848               | -965                 | -1.79%                    |
| **Tnft**     | approve                   | 49115                | 48761               | -354                 | -0.72%                    |
| **Tnft**     | burn                      | 29294                | 28977               | -317                 | -1.08%                    |
| **Tnft**     | mint                      | 71383                | 70894               | -489                 | -0.68%                    |
| **Tnft**     | safeTransferFrom          | 56079                | 55483               | -596                 | -1.06%                    |
| **Tnft**     | setApprovalForAll         | 44418                | 43979               | -439                 | -0.99%                    |
| **Tnft**     | transferFrom              | 54680                | 54053               | -627                 | -1.15%                    |
| **TGame**    | **Deployment**            | 2471491              | 1428543             | -1042948             | -42.16%                   |
| **TMoney**   | **Deployment**            | 1196794              | 641297              | -555497              | -46.43%                   |
| **Tnft**     | **Deployment**            | 1943185              | 1012512             | -930673              | -47.90%                   |

## 3. After adding the optimization flag and runs=200, the code is as follows:
```txt

·--------------------------------------|---------------------------|-------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 200  ·  Block limit: 30000000 gas  │
·······································|···························|·············|······························
|  Methods                                                                                                     │
·············|·························|·············|·············|·············|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg        ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·      32381  ·            7  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  burnBatch              ·      35159  ·      41811  ·      39150  ·            5  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  mint                   ·      32097  ·      49209  ·      48616  ·           29  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·      75189  ·            3  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      36138  ·      88088  ·      70746  ·            6  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  safeTransferFrom       ·      29217  ·      56417  ·      47313  ·            6  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·      46196  ·            5  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TMoney    ·  approve                ·      46134  ·      46146  ·      46135  ·            9  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·      33847  ·            3  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·      36319  ·            3  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TMoney    ·  transfer               ·      28857  ·      51569  ·      45891  ·            4  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·      52827  ·            3  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  approve                ·      48484  ·      50743  ·      48807  ·            7  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·      28881  ·            3  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·      70774  ·           25  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·      55408  ·            1  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24239  ·      46151  ·      43715  ·            9  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Tnft      ·  transferFrom           ·      52606  ·      57072  ·      53952  ·            5  ·          -  │
·············|·························|·············|·············|·············|···············|··············
|  Deployments                         ·                                         ·  % of limit   ·             │
·······································|·············|·············|·············|···············|··············
|  TGame                               ·          -  ·          -  ·    1467211  ·        4.9 %  ·          -  │
·······································|·············|·············|·············|···············|··············
|  TMoney                              ·          -  ·          -  ·     650452  ·        2.2 %  ·          -  │
·······································|·············|·············|·············|···············|··············
|  Tnft                                ·          -  ·          -  ·    1045723  ·        3.5 %  ·          -  │
·--------------------------------------|-------------|-------------|-------------|---------------|-------------·
```
## Conclusion 2->3(`runs=0` vs. `runs=200`):

#### Method Comparison Table

| **Contract** | **Method**               | **Avg Gas (runs=0)** | **Avg Gas (runs=200)** | **Difference (Gas)** | **Percentage Change (%)** |
|--------------|--------------------------|----------------------|------------------------|----------------------|---------------------------|
| **TGame**    | burn                      | 32714                | 32381                  | -333                 | -1.02%                    |
| **TGame**    | burnBatch                 | 39306                | 39150                  | -156                 | -0.40%                    |
| **TGame**    | mint                      | 48683                | 48616                  | -67                  | -0.14%                    |
| **TGame**    | mintBatch                 | 75433                | 75189                  | -244                 | -0.32%                    |
| **TGame**    | safeBatchTransferFrom     | 70869                | 70746                  | -123                 | -0.17%                    |
| **TGame**    | safeTransferFrom          | 47640                | 47313                  | -327                 | -0.69%                    |
| **TGame**    | setApprovalForAll         | 46327                | 46196                  | -131                 | -0.28%                    |
| **TMoney**   | approve                   | 46089                | 46135                  | +46                  | +0.10%                    |
| **TMoney**   | burn                      | 33868                | 33847                  | -21                  | -0.06%                    |
| **TMoney**   | mint                      | 36385                | 36319                  | -66                  | -0.18%                    |
| **TMoney**   | transfer                  | 46067                | 45891                  | -176                 | -0.38%                    |
| **TMoney**   | transferFrom              | 52848                | 52827                  | -21                  | -0.04%                    |
| **Tnft**     | approve                   | 48761                | 48807                  | +46                  | +0.09%                    |
| **Tnft**     | burn                      | 28977                | 28881                  | -96                  | -0.33%                    |
| **Tnft**     | mint                      | 70894                | 70774                  | -120                 | -0.17%                    |
| **Tnft**     | safeTransferFrom          | 55483                | 55408                  | -75                  | -0.14%                    |
| **Tnft**     | setApprovalForAll         | 43979                | 43715                  | -264                 | -0.60%                    |
| **Tnft**     | transferFrom              | 54053                | 53952                  | -101                 | -0.19%                    |
| **TGame**    | **Deployment**            | 1428543              | 1467211                | +38668               | +2.71%                    |
| **TMoney**   | **Deployment**            | 641297               | 650452                 | +9155                | +1.43%                    |
| **Tnft**     | **Deployment**            | 1012512              | 1045723                | +33111               | +3.27%                    |

### Conclusion

- **Methods:**
    - The average gas costs for most methods have decreased slightly with `runs=200` compared to `runs=0`, indicating that optimization has generally been effective. The improvements are modest, with percentage changes ranging from -0.02% to -1.02%.
    - For the `TMoney` contract, there is a slight increase in the `approve` method, but this is minimal and does not significantly impact overall gas efficiency.

- **Deployments:**
    - The average gas cost for contract deployments has increased slightly with `runs=200` compared to `runs=0`. This increase is approximately 2.71% for `TGame`, 1.43% for `TMoney`, and 3.27% for `Tnft`. While the optimization improved method-level gas efficiency, it appears to have a small adverse effect on deployment costs.

Overall, the addition of the `runs` parameter does not significantly alter the gas efficiency of individual methods but may slightly increase deployment costs. The choice of `runs` parameter should be balanced between optimizing method gas usage and managing deployment costs.

## 4. After adding the optimization flag and runs=10_000, the code is as follows:
```txt

·--------------------------------------|---------------------------|---------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 10000  ·  Block limit: 30000000 gas  │
·······································|···························|···············|······························
|  Methods                                                                                                       │
·············|·························|·············|·············|···············|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg          ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·        32381  ·            7  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  burnBatch              ·      35135  ·      41787  ·        39126  ·            5  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  mint                   ·      32097  ·      49209  ·        48616  ·           29  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·        75165  ·            3  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      36114  ·      88064  ·        70722  ·            6  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  safeTransferFrom       ·      29217  ·      56417  ·        47313  ·            6  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·        46193  ·            5  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TMoney    ·  approve                ·      46098  ·      46110  ·        46099  ·            9  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·        33815  ·            3  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·        36227  ·            3  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TMoney    ·  transfer               ·      28777  ·      51489  ·        45811  ·            4  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·        52675  ·            3  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  approve                ·      48469  ·      50728  ·        48792  ·            7  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·        28852  ·            3  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·        70782  ·           25  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·        55371  ·            1  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24259  ·      46171  ·        43735  ·            9  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Tnft      ·  transferFrom           ·      52614  ·      57080  ·        53960  ·            5  ·          -  │
·············|·························|·············|·············|···············|···············|··············
|  Deployments                         ·                                           ·  % of limit   ·             │
·······································|·············|·············|···············|···············|··············
|  TGame                               ·          -  ·          -  ·      1734479  ·        5.8 %  ·          -  │
·······································|·············|·············|···············|···············|··············
|  TMoney                              ·          -  ·          -  ·       816258  ·        2.7 %  ·          -  │
·······································|·············|·············|···············|···············|··············
|  Tnft                                ·          -  ·          -  ·      1268964  ·        4.2 %  ·          -  │
·--------------------------------------|-------------|-------------|---------------|---------------|-------------·
```
## Conclusion 3->4:
Here's a comparison between the optimization settings with `runs=200` and `runs=10,000` for Solidity code:

### Comparison Table

| Contract | Method                | Optimization (runs=200) - Avg Gas | Optimization (runs=10,000) - Avg Gas | Gas Difference | % Difference |
|----------|------------------------|----------------------------------|-------------------------------------|----------------|--------------|
| **TGame**    | burn                   | 32,381                           | 32,381                              | 0              | 0.00%        |
| **TGame**    | burnBatch              | 39,150                           | 39,126                              | -24            | -0.06%       |
| **TGame**    | mint                   | 48,616                           | 48,616                              | 0              | 0.00%        |
| **TGame**    | mintBatch              | 75,189                           | 75,165                              | -24            | -0.03%       |
| **TGame**    | safeBatchTransferFrom  | 70,746                           | 70,722                              | -24            | -0.03%       |
| **TGame**    | safeTransferFrom       | 47,313                           | 47,313                              | 0              | 0.00%        |
| **TGame**    | setApprovalForAll      | 46,196                           | 46,193                              | -3             | -0.01%       |
| **TMoney**   | approve                | 46,135                           | 46,099                              | -36            | -0.08%       |
| **TMoney**   | burn                   | 33,847                           | 33,815                              | -32            | -0.09%       |
| **TMoney**   | mint                   | 36,319                           | 36,227                              | -92            | -0.25%       |
| **TMoney**   | transfer               | 45,891                           | 45,811                              | -80            | -0.17%       |
| **TMoney**   | transferFrom           | 52,827                           | 52,675                              | -152           | -0.29%       |
| **Tnft**     | approve                | 48,807                           | 48,792                              | -15            | -0.03%       |
| **Tnft**     | burn                   | 28,881                           | 28,852                              | -29            | -0.10%       |
| **Tnft**     | mint                   | 70,774                           | 70,782                              | 8              | 0.01%        |
| **Tnft**     | safeTransferFrom       | 55,408                           | 55,371                              | -37            | -0.07%       |
| **Tnft**     | setApprovalForAll      | 43,715                           | 43,735                              | 20             | 0.05%        |
| **Tnft**     | transferFrom           | 53,952                           | 53,960                              | 8              | 0.01%        |
| **Deployments** | TGame               | 1,467,211                        | 1,734,479                           | 267,268        | 18.22%       |
| **Deployments** | TMoney              | 650,452                          | 816,258                             | 165,806        | 25.49%       |
| **Deployments** | Tnft                | 1,045,723                        | 1,269,964                           | 224,241        | 21.43%       |

### Summary and Conclusions

1. **Gas Consumption Consistency**:
  - For most individual methods, the average gas usage remains nearly identical or shows only marginal changes between the two optimization runs. This suggests that the optimization parameters (`runs`) have a minimal impact on the gas consumption for these methods.

2. **Deployment Size Increase**:
  - There is a notable increase in gas consumption for deployments when using `runs=10,000` compared to `runs=200`. This increase in deployment size is significant for all contracts:
    - **TGame**: Increased by 18.22%
    - **TMoney**: Increased by 25.49%
    - **Tnft**: Increased by 21.43%
  - This suggests that while runtime optimizations for individual transactions are relatively stable, the deployment process is more affected by the `runs` setting. Higher optimization runs can lead to larger contract sizes, likely due to more complex optimizations during compilation.

3. **Method-Specific Impacts**:
  - Methods in the `TGame`, `TMoney`, and `Tnft` contracts exhibit minimal changes in average gas consumption with the higher optimization run count. Differences are generally within a few percentage points or less, indicating that runtime optimizations are efficiently applied without drastic effects on gas usage for specific methods.

4. **Overall Effectiveness**:
  - While the optimization flag with a higher `runs` value may lead to slightly more gas-efficient methods, the overall impact on the gas cost of transactions is minor. The major effect is seen in deployment gas usage, which increases significantly with higher optimization settings.

**Recommendation**: If minimizing deployment size is critical, a lower `runs` value might be preferred. However, for optimizing method execution, a higher `runs` value could be beneficial despite the increase in deployment gas costs.

## 5. After adding the optimization flag and runs=100_000, the code is as follows:
```txt

·--------------------------------------|---------------------------|----------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 100000  ·  Block limit: 30000000 gas  │
·······································|···························|················|······························
|  Methods                                                                                                        │
·············|·························|·············|·············|················|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg           ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·         32309  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burnBatch              ·      35015  ·      41619  ·         38977  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mint                   ·      32037  ·      49149  ·         48556  ·           29  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·         75045  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      35898  ·      87824  ·         70502  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeTransferFrom       ·      29085  ·      56285  ·         47179  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·         46145  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  approve                ·      46098  ·      46110  ·         46099  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·         33815  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·         36227  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transfer               ·      28777  ·      51489  ·         45811  ·            4  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·         52675  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  approve                ·      48385  ·      50632  ·         48706  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·         28813  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·         70710  ·           25  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·         55215  ·            1  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24211  ·      46123  ·         43687  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  transferFrom           ·      52470  ·      56912  ·         53809  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Deployments                         ·                                            ·  % of limit   ·             │
·······································|·············|·············|················|···············|··············
|  TGame                               ·          -  ·          -  ·       1931303  ·        6.4 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  TMoney                              ·          -  ·          -  ·        816258  ·        2.7 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  Tnft                                ·          -  ·          -  ·       1415223  ·        4.7 %  ·          -  │
·--------------------------------------|-------------|-------------|----------------|---------------|-------------·
```
## Conclusion 4->5:

To compare the performance of the smart contracts with optimization flags set at `runs=10,000` and `runs=100,000`, we can summarize the key metrics from each case and analyze their differences. Below is a comparison table and conclusions.

### Comparison Table

| **Metric**                      | **Runs = 10,000**                       | **Runs = 100,000**                     | **Difference**                      |
|---------------------------------|----------------------------------------|---------------------------------------|------------------------------------|
| **TGame: burn**                 | Avg: 32,381                             | Avg: 32,309                            | -72                                |
| **TGame: burnBatch**            | Avg: 39,126                             | Avg: 38,977                            | -149                               |
| **TGame: mint**                 | Avg: 48,616                             | Avg: 48,556                            | -60                                |
| **TGame: mintBatch**            | Avg: 75,165                             | Avg: 75,045                            | -120                               |
| **TGame: safeBatchTransferFrom**| Avg: 70,722                             | Avg: 70,502                            | -220                               |
| **TGame: safeTransferFrom**     | Avg: 47,313                             | Avg: 47,179                            | -134                               |
| **TGame: setApprovalForAll**    | Avg: 46,193                             | Avg: 46,145                            | -48                                |
| **TMoney: approve**             | Avg: 46,099                             | Avg: 46,099                            | 0                                  |
| **TMoney: burn**                | Avg: 33,815                             | Avg: 33,815                            | 0                                  |
| **TMoney: mint**                | Avg: 36,227                             | Avg: 36,227                            | 0                                  |
| **TMoney: transfer**            | Avg: 45,811                             | Avg: 45,811                            | 0                                  |
| **TMoney: transferFrom**        | Avg: 52,675                             | Avg: 52,675                            | 0                                  |
| **Tnft: approve**               | Avg: 48,792                             | Avg: 48,706                            | -86                                |
| **Tnft: burn**                  | Avg: 28,852                             | Avg: 28,813                            | -39                                |
| **Tnft: mint**                  | Avg: 70,782                             | Avg: 70,710                            | -72                                |
| **Tnft: safeTransferFrom**      | Avg: 55,371                             | Avg: 55,215                            | -156                               |
| **Tnft: setApprovalForAll**     | Avg: 43,735                             | Avg: 43,687                            | -48                                |
| **Tnft: transferFrom**          | Avg: 53,960                             | Avg: 53,809                            | -151                               |
| **TGame Deployment**            | Avg: 1,734,479                          | Avg: 1,931,303                         | +196,824                           |
| **TMoney Deployment**           | Avg: 816,258                            | Avg: 816,258                           | 0                                  |
| **Tnft Deployment**             | Avg: 1,268,964                          | Avg: 1,415,223                         | +146,259                           |

### Conclusion

1. **Gas Costs for Methods**:
    - Overall, the average gas cost of contract methods decreased when optimization runs increased from `10,000` to `100,000`. This shows that the optimizer is able to provide better gas savings with a higher number of optimization runs.
    - The average reduction in gas costs across methods is relatively small, indicating diminishing returns beyond a certain optimization runs threshold.

2. **Deployment Costs**:
    - The deployment cost for `TGame` increased significantly when `runs` was set to `100,000`. This increase might be due to the optimizer's effect on the overall contract size or complexity. In contrast, the deployment costs for `TMoney` remained the same, and `Tnft` saw an increase as well.
    - This indicates that while optimization improves method execution efficiency, it might increase the initial deployment cost due to larger contract sizes.

3. **Consistency in Optimization**:
    - The gas cost for methods in `TMoney` and `TGame` remained consistent between the two optimization runs, suggesting that the optimizer's impact is minimal or negligible for these contracts.
    - For `Tnft`, method gas costs varied slightly, showing that the optimizer's effectiveness can vary based on the contract's complexity.

In summary, increasing the number of optimization runs generally leads to more efficient method execution but can also result in higher deployment costs. The benefits of optimization are more pronounced in the execution phase rather than the deployment phase.

## 6. After adding the optimization flag and runs=1_000_000, the code is as follows:
```txt

·--------------------------------------|---------------------------|-----------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 1000000  ·  Block limit: 30000000 gas  │
·······································|···························|·················|······························
|  Methods                                                                                                         │
·············|·························|·············|·············|·················|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg            ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·          32309  ·            7  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  burnBatch              ·      35015  ·      41619  ·          38977  ·            5  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  mint                   ·      32037  ·      49149  ·          48556  ·           29  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·          75045  ·            3  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      35898  ·      87824  ·          70502  ·            6  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  safeTransferFrom       ·      29085  ·      56285  ·          47179  ·            6  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·          46145  ·            5  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TMoney    ·  approve                ·      46098  ·      46110  ·          46099  ·            9  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·          33815  ·            3  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·          36227  ·            3  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TMoney    ·  transfer               ·      28777  ·      51489  ·          45811  ·            4  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·          52675  ·            3  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  approve                ·      48385  ·      50632  ·          48706  ·            7  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·          28813  ·            3  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·          70710  ·           25  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·          55215  ·            1  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24211  ·      46123  ·          43687  ·            9  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Tnft      ·  transferFrom           ·      52470  ·      56912  ·          53809  ·            5  ·          -  │
·············|·························|·············|·············|·················|···············|··············
|  Deployments                         ·                                             ·  % of limit   ·             │
·······································|·············|·············|·················|···············|··············
|  TGame                               ·          -  ·          -  ·        1931303  ·        6.4 %  ·          -  │
·······································|·············|·············|·················|···············|··············
|  TMoney                              ·          -  ·          -  ·         816258  ·        2.7 %  ·          -  │
·······································|·············|·············|·················|···············|··············
|  Tnft                                ·          -  ·          -  ·        1415223  ·        4.7 %  ·          -  │
·--------------------------------------|-------------|-------------|-----------------|---------------|-------------·
```
## Conclusion 5->6:

To compare the performance of the smart contracts between the `runs=100,000` and `runs=1,000,000` optimizations, here is a detailed analysis in tabular format and conclusions drawn from the data.

### Comparison Table

| **Metric**                      | **Optimizer Runs: 100,000**            | **Optimizer Runs: 1,000,000**         | **Difference**                      |
|---------------------------------|----------------------------------------|---------------------------------------|------------------------------------|
| **TGame: burn**                 | Avg: 32,309                             | Avg: 32,309                            | 0                                  |
| **TGame: burnBatch**            | Avg: 38,977                             | Avg: 38,977                            | 0                                  |
| **TGame: mint**                 | Avg: 48,556                             | Avg: 48,556                            | 0                                  |
| **TGame: mintBatch**            | Avg: 75,045                             | Avg: 75,045                            | 0                                  |
| **TGame: safeBatchTransferFrom**| Avg: 70,502                             | Avg: 70,502                            | 0                                  |
| **TGame: safeTransferFrom**     | Avg: 47,179                             | Avg: 47,179                            | 0                                  |
| **TGame: setApprovalForAll**    | Avg: 46,145                             | Avg: 46,145                            | 0                                  |
| **TMoney: approve**             | Avg: 46,099                             | Avg: 46,099                            | 0                                  |
| **TMoney: burn**                | Avg: 33,815                             | Avg: 33,815                            | 0                                  |
| **TMoney: mint**                | Avg: 36,227                             | Avg: 36,227                            | 0                                  |
| **TMoney: transfer**            | Avg: 45,811                             | Avg: 45,811                            | 0                                  |
| **TMoney: transferFrom**        | Avg: 52,675                             | Avg: 52,675                            | 0                                  |
| **Tnft: approve**               | Avg: 48,706                             | Avg: 48,706                            | 0                                  |
| **Tnft: burn**                  | Avg: 28,813                             | Avg: 28,813                            | 0                                  |
| **Tnft: mint**                  | Avg: 70,710                             | Avg: 70,710                            | 0                                  |
| **Tnft: safeTransferFrom**      | Avg: 55,215                             | Avg: 55,215                            | 0                                  |
| **Tnft: setApprovalForAll**     | Avg: 43,687                             | Avg: 43,687                            | 0                                  |
| **Tnft: transferFrom**          | Avg: 53,809                             | Avg: 53,809                            | 0                                  |
| **TGame Deployment**            | Avg: 1,931,303                          | Avg: 1,931,303                         | 0                                  |
| **TMoney Deployment**           | Avg: 816,258                            | Avg: 816,258                           | 0                                  |
| **Tnft Deployment**             | Avg: 1,415,223                          | Avg: 1,415,223                         | 0                                  |

### Conclusions

1. **Method Gas Costs**:
    - The gas costs for all methods across `TGame`, `TMoney`, and `Tnft` remained unchanged when the optimizer runs increased from `100,000` to `1,000,000`.
    - This indicates that, within the given range of optimization runs, increasing the runs from `100,000` to `1,000,000` did not affect the average gas consumption of the contract methods.

2. **Deployment Costs**:
    - The deployment costs for `TGame`, `TMoney`, and `Tnft` were identical at both optimization levels.
    - This suggests that the size and complexity of the deployed contracts were unaffected by the increase in optimization runs.

3. **Optimization Efficiency**:
    - The results demonstrate that for these contracts and methods, the optimizer's performance plateaued between `100,000` and `1,000,000` runs. Further increasing the runs did not yield additional savings or changes in gas costs.
    - This might be due to the nature of the contracts or the optimization limits already being reached with `100,000` runs.

In summary, while higher optimization runs can provide additional benefits in some cases, for these particular contracts and their methods, there was no observable difference in gas costs or deployment size between `100,000` and `1,000,000` optimization runs. So we should use runs=100,000 for optimization.

## 7. After adding the optimization flag and runs=100_000 and viaIR: true, the code is as follows:
```txt

·--------------------------------------|---------------------------|----------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 100000  ·  Block limit: 30000000 gas  │
·······································|···························|················|······························
|  Methods                                                                                                        │
·············|·························|·············|·············|················|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg           ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·         32466  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burnBatch              ·      34870  ·      41535  ·         38869  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mint                   ·      31855  ·      48967  ·         48374  ·           29  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·         74976  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      35536  ·      87476  ·         70143  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeTransferFrom       ·      28990  ·      56190  ·         47085  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·         46184  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  approve                ·      45874  ·      45886  ·         45875  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·         33669  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·         36067  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transfer               ·      28703  ·      51415  ·         45737  ·            4  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·         52315  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  approve                ·      48275  ·      50593  ·         48606  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·         28760  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·         70651  ·           25  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·         55178  ·            1  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24363  ·      46275  ·         43839  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  transferFrom           ·      52389  ·      56858  ·         53737  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Deployments                         ·                                            ·  % of limit   ·             │
·······································|·············|·············|················|···············|··············
|  TGame                               ·          -  ·          -  ·       1623534  ·        5.4 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  TMoney                              ·          -  ·          -  ·        797086  ·        2.7 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  Tnft                                ·          -  ·          -  ·       1416977  ·        4.7 %  ·          -  │
·--------------------------------------|-------------|-------------|----------------|---------------|-------------·
```
## Conclusion 5->7:

| **Metric**                | **5: Runs=100,000, Optimizer**          | **7: Runs=100,000, Optimizer + viaIR** | **Difference**        |
|---------------------------|------------------------------------------|----------------------------------------|-----------------------|
| **TGame - burn**          | Avg: 32,309                              | Avg: 32,466                            | +157 (0.5% increase)  |
| **TGame - burnBatch**     | Avg: 38,977                              | Avg: 38,869                            | -108 (-0.3% decrease) |
| **TGame - mint**          | Avg: 48,556                              | Avg: 48,374                            | -182 (-0.4% decrease) |
| **TGame - mintBatch**     | Avg: 75,045                              | Avg: 74,976                            | -69 (-0.1% decrease)  |
| **TGame - safeBatchTransferFrom** | Avg: 70,502                          | Avg: 70,143                            | -359 (-0.5% decrease) |
| **TGame - safeTransferFrom**    | Avg: 47,179                          | Avg: 47,085                            | -94 (-0.2% decrease)  |
| **TGame - setApprovalForAll**   | Avg: 46,145                          | Avg: 46,184                            | +39 (+0.1% increase)  |
| **TMoney - approve**      | Avg: 46,099                              | Avg: 45,875                            | -224 (-0.5% decrease) |
| **TMoney - burn**         | Avg: 33,815                              | Avg: 33,669                            | -146 (-0.4% decrease) |
| **TMoney - mint**         | Avg: 36,227                              | Avg: 36,067                            | -160 (-0.4% decrease) |
| **TMoney - transfer**     | Avg: 45,811                              | Avg: 45,737                            | -74 (-0.2% decrease)  |
| **TMoney - transferFrom** | Avg: 52,675                              | Avg: 52,315                            | -360 (-0.7% decrease) |
| **Tnft - approve**       | Avg: 48,706                              | Avg: 48,606                            | -100 (-0.2% decrease) |
| **Tnft - burn**          | Avg: 28,813                              | Avg: 28,760                            | -53 (-0.2% decrease)  |
| **Tnft - mint**          | Avg: 70,710                              | Avg: 70,651                            | -59 (-0.1% decrease)  |
| **Tnft - safeTransferFrom** | Avg: 55,215                            | Avg: 55,178                            | -37 (-0.1% decrease)  |
| **Tnft - setApprovalForAll** | Avg: 43,687                          | Avg: 43,839                            | +152 (+0.3% increase) |
| **Tnft - transferFrom**  | Avg: 53,809                              | Avg: 53,737                            | -72 (-0.1% decrease)  |
| **TGame - Deployment**    | Avg: 1,931,303                           | Avg: 1,623,534                         | -307,769 (-15.9% decrease) |
| **TMoney - Deployment**   | Avg: 816,258                            | Avg: 797,086                          | -19,172 (-2.3% decrease) |
| **Tnft - Deployment**     | Avg: 1,415,223                           | Avg: 1,416,977                         | +1,754 (+0.1% increase) |

### Summary of Differences:

1. **Execution Time for Methods**:
    - The execution times for most methods are slightly lower with the optimization using `viaIR`, although the differences are generally minimal. The largest reductions are observed in methods like `TMoney - transferFrom` and `TGame - mintBatch`.

2. **Deployment Gas Cost**:
    - **TGame**: The deployment gas cost significantly decreases with `viaIR`, with a reduction of 15.9%. This indicates a more optimized deployment.
    - **TMoney**: Shows a smaller reduction of 2.3%, which is still significant.
    - **Tnft**: The deployment cost is slightly higher with `viaIR`, with a marginal increase of 0.1%.

3. **Overall Efficiency**:
    - The addition of the `viaIR` flag generally results in small optimizations across most methods, with notable improvements in deployment gas costs for certain contracts.

### Conclusion:
The `viaIR` flag in combination with optimization seems to enhance gas efficiency slightly for most contract methods, particularly in reducing deployment costs. However, the impact on method execution times is minimal. The improvements are more pronounced in contract deployment, where gas savings are significant.

## 8. After adding the optimization cache some values from storage, the code is as follows:
```txt
·--------------------------------------|---------------------------|----------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 100000  ·  Block limit: 30000000 gas  │
·······································|···························|················|······························
|  Methods                                                                                                        │
·············|·························|·············|·············|················|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg           ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·         32364  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burnBatch              ·      34706  ·      41199  ·         38602  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mint                   ·      31855  ·      48967  ·         48374  ·           29  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·         74976  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      35332  ·      87272  ·         69939  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeTransferFrom       ·      28888  ·      56088  ·         46983  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·         46184  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  approve                ·      45874  ·      45886  ·         45875  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·         33562  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·         36067  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transfer               ·      28586  ·      51298  ·         45620  ·            4  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·         52099  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  approve                ·      48275  ·      50593  ·         48606  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·         28760  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·         70651  ·           25  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·         55178  ·            1  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24363  ·      46275  ·         43839  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  transferFrom           ·      52389  ·      56858  ·         53737  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Deployments                         ·                                            ·  % of limit   ·             │
·······································|·············|·············|················|···············|··············
|  TGame                               ·          -  ·          -  ·       1641801  ·        5.5 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  TMoney                              ·          -  ·          -  ·        794722  ·        2.6 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  Tnft                                ·          -  ·          -  ·       1416977  ·        4.7 %  ·          -  │
·--------------------------------------|-------------|-------------|----------------|---------------|-------------·
```
## Conclusion 7->8:

Here’s a comparison of the two implementations (7th and 8th) in a table format, followed by key observations and conclusions.

### Table: Gas Consumption Comparison

| Contract | Method                   | 7th Implementation Avg Gas | 8th Implementation Avg Gas | Difference (Δ Avg) | Difference (%)  |
|----------|--------------------------|----------------------------|----------------------------|--------------------|-----------------|
| TGame    | burn                      | 32,466                     | 32,364                     | -102               | -0.31%           |
| TGame    | burnBatch                 | 38,869                     | 38,602                     | -267               | -0.69%           |
| TGame    | mint                      | 48,374                     | 48,374                     | 0                  | 0.00%            |
| TGame    | mintBatch                 | 74,976                     | 74,976                     | 0                  | 0.00%            |
| TGame    | safeBatchTransferFrom     | 70,143                     | 69,939                     | -204               | -0.29%           |
| TGame    | safeTransferFrom          | 47,085                     | 46,983                     | -102               | -0.22%           |
| TGame    | setApprovalForAll         | 46,184                     | 46,184                     | 0                  | 0.00%            |
| TMoney   | approve                   | 45,875                     | 45,875                     | 0                  | 0.00%            |
| TMoney   | burn                      | 33,669                     | 33,562                     | -107               | -0.32%           |
| TMoney   | mint                      | 36,067                     | 36,067                     | 0                  | 0.00%            |
| TMoney   | transfer                  | 45,737                     | 45,620                     | -117               | -0.26%           |
| TMoney   | transferFrom              | 52,315                     | 52,099                     | -216               | -0.41%           |
| Tnft     | approve                   | 48,606                     | 48,606                     | 0                  | 0.00%            |
| Tnft     | burn                      | 28,760                     | 28,760                     | 0                  | 0.00%            |
| Tnft     | mint                      | 70,651                     | 70,651                     | 0                  | 0.00%            |
| Tnft     | safeTransferFrom          | 55,178                     | 55,178                     | 0                  | 0.00%            |
| Tnft     | setApprovalForAll         | 43,839                     | 43,839                     | 0                  | 0.00%            |
| Tnft     | transferFrom              | 53,737                     | 53,737                     | 0                  | 0.00%            |
| Deployments | TGame                  | 1,623,534                  | 1,641,801                  | +18,267            | +1.13%           |
| Deployments | TMoney                 | 797,086                    | 794,722                    | -2,364             | -0.30%           |
| Deployments | Tnft                   | 1,416,977                  | 1,416,977                  | 0                  | 0.00%            |

### Key Observations:
1. **Minimal Gas Reduction**: The gas usage differences between the 7th and 8th implementations are minimal across most methods, with reductions ranging from 0.22% to 0.69%. This indicates that caching some storage values resulted in slight improvements in efficiency for some methods.

2. **No Change in Some Methods**: Some methods, such as `mint`, `mintBatch`, `approve`, `burn` in `Tnft`, and others, show no difference in gas usage between the two implementations, indicating that the optimization had no impact on these specific methods.

3. **Deployment Size**: The deployment gas consumption for `TGame` increased by 1.13%, likely due to the added logic for caching. Meanwhile, the deployment size for `TMoney` slightly decreased by 0.30%.

### Conclusion:
The optimization by caching some values from storage led to very slight reductions in gas consumption for certain functions, but the impact was relatively minor. In some cases, this optimization slightly increased the overall deployment gas costs. These changes suggest that while caching can improve efficiency, the benefits might be marginal and should be weighed against potential increases in code complexity or deployment size.

## 9. After adding unchecked math, the code is as follows:
```txt
·--------------------------------------|---------------------------|----------------|-----------------------------·
|         Solc version: 0.8.24         ·  Optimizer enabled: true  ·  Runs: 100000  ·  Block limit: 30000000 gas  │
·······································|···························|················|······························
|  Methods                                                                                                        │
·············|·························|·············|·············|················|···············|··············
|  Contract  ·  Method                 ·  Min        ·  Max        ·  Avg           ·  # calls      ·  usd (avg)  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burn                   ·          -  ·          -  ·         32309  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  burnBatch              ·      34573  ·      40938  ·         38392  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mint                   ·      31901  ·      49013  ·         48420  ·           29  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  mintBatch              ·          -  ·          -  ·         74976  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeBatchTransferFrom  ·      35222  ·      87162  ·         69829  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  safeTransferFrom       ·      28833  ·      56033  ·         46928  ·            6  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TGame     ·  setApprovalForAll      ·          -  ·          -  ·         46184  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  approve                ·      45874  ·      45886  ·         45875  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  burn                   ·          -  ·          -  ·         33507  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  mint                   ·          -  ·          -  ·         36067  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transfer               ·      28531  ·      51243  ·         45565  ·            4  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  TMoney    ·  transferFrom           ·          -  ·          -  ·         52044  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  approve                ·      48275  ·      50593  ·         48606  ·            7  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  burn                   ·          -  ·          -  ·         28719  ·            3  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  mint                   ·          -  ·          -  ·         70599  ·           25  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  safeTransferFrom       ·          -  ·          -  ·         55074  ·            1  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  setApprovalForAll      ·      24363  ·      46275  ·         43839  ·            9  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Tnft      ·  transferFrom           ·      52285  ·      56754  ·         53633  ·            5  ·          -  │
·············|·························|·············|·············|················|···············|··············
|  Deployments                         ·                                            ·  % of limit   ·             │
·······································|·············|·············|················|···············|··············
|  TGame                               ·          -  ·          -  ·       1631640  ·        5.4 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  TMoney                              ·          -  ·          -  ·        790166  ·        2.6 %  ·          -  │
·······································|·············|·············|················|···············|··············
|  Tnft                                ·          -  ·          -  ·       1402823  ·        4.7 %  ·          -  │
·--------------------------------------|-------------|-------------|----------------|---------------|-------------·
```
## Conclusion 8->9:

Here's a comparison of the optimization results for versions 8 and 9, including the average gas costs for various methods, in table format.

### Comparison Table: Solc Version 0.8.24 with Optimizer Enabled

| **Contract** | **Method**                | **Version 8 Avg (gas)** | **Version 9 Avg (gas)** | **Difference (gas)** | **% Change** |
|--------------|---------------------------|-------------------------|-------------------------|----------------------|--------------|
| TGame        | burn                      | 32,364                  | 32,309                  | -55                  | -0.17%       |
| TGame        | burnBatch                 | 38,602                  | 38,392                  | -210                 | -0.54%       |
| TGame        | mint                      | 48,374                  | 48,420                  | +46                  | +0.10%       |
| TGame        | mintBatch                 | 74,976                  | 74,976                  | 0                    | 0.00%        |
| TGame        | safeBatchTransferFrom     | 69,939                  | 69,829                  | -110                 | -0.16%       |
| TGame        | safeTransferFrom          | 46,983                  | 46,928                  | -55                  | -0.12%       |
| TGame        | setApprovalForAll         | 46,184                  | 46,184                  | 0                    | 0.00%        |
| TMoney       | approve                   | 45,875                  | 45,875                  | 0                    | 0.00%        |
| TMoney       | burn                      | 33,562                  | 33,507                  | -55                  | -0.16%       |
| TMoney       | mint                      | 36,067                  | 36,067                  | 0                    | 0.00%        |
| TMoney       | transfer                  | 45,620                  | 45,565                  | -55                  | -0.12%       |
| TMoney       | transferFrom              | 52,099                  | 52,044                  | -55                  | -0.11%       |
| Tnft         | approve                   | 48,606                  | 48,606                  | 0                    | 0.00%        |
| Tnft         | burn                      | 28,760                  | 28,719                  | -41                  | -0.14%       |
| Tnft         | mint                      | 70,651                  | 70,599                  | -52                  | -0.07%       |
| Tnft         | safeTransferFrom          | 55,178                  | 55,074                  | -104                 | -0.19%       |
| Tnft         | setApprovalForAll         | 43,839                  | 43,839                  | 0                    | 0.00%        |
| Tnft         | transferFrom              | 53,737                  | 53,633                  | -104                 | -0.19%       |
| **Deployments** |                           |                         |                         |                      |              |
| TGame        |                           | 1,641,801               | 1,631,640               | -10,161              | -0.62%       |
| TMoney       |                           | 794,722                 | 790,166                 | -4,556               | -0.57%       |
| Tnft         |                           | 1,416,977               | 1,402,823               | -14,154              | -0.99%       |

### Conclusion:

- **Gas Cost Changes:** In most cases, the average gas cost per method has either slightly decreased or remained unchanged after adding unchecked math in version 9. The average reduction is minimal, indicating that unchecked math optimization primarily maintains or slightly improves gas efficiency.

- **Deployment Costs:** The gas cost for deploying contracts in both versions shows a slight decrease. This suggests that the optimizations related to unchecked math contribute to more efficient deployment in general.

- **Overall Impact:** Adding unchecked math has generally resulted in minor reductions in gas costs across methods, with average changes ranging from -0.07% to -0.99%. This indicates a marginal but positive impact on gas efficiency from the optimization techniques in version 9.

Thus, the addition of unchecked math provides a modest improvement in gas efficiency without introducing any substantial drawbacks in the tested scenarios.

## Final Conclusion:

Here's a comparative analysis of the smart contract methods before and after optimization, presented in table format:

### **Pre-Optimization vs. Post-Optimization Comparison**

| Contract | Method                  | Pre-Optimization Avg (gas) | Post-Optimization Avg (gas) | Difference (gas) | Percentage Reduction (%) |
|----------|-------------------------|----------------------------|------------------------------|------------------|---------------------------|
| TGame    | burn                    | 33475                      | 32309                        | -1176            | -3.51%                    |
| TGame    | burnBatch               | 39720                      | 38392                        | -1328            | -3.35%                    |
| TGame    | mint                    | 49428                      | 48420                        | -1008            | -2.04%                    |
| TGame    | mintBatch               | 75924                      | 74976                        | -1948            | -2.56%                    |
| TGame    | safeBatchTransferFrom   | 71709                      | 69829                        | -1880            | -2.62%                    |
| TGame    | safeTransferFrom        | 48504                      | 46928                        | -1580            | -3.26%                    |
| TGame    | setApprovalForAll       | 46766                      | 46184                        | -582             | -1.24%                    |
| TMoney   | approve                 | 46664                      | 45875                        | -789             | -1.69%                    |
| TMoney   | burn                    | 34403                      | 33507                        | -896             | -2.60%                    |
| TMoney   | mint                    | 37040                      | 36067                        | -973             | -2.63%                    |
| TMoney   | transfer                | 46838                      | 45565                        | -1273            | -2.72%                    |
| TMoney   | transferFrom            | 53813                      | 52044                        | -1769            | -3.29%                    |
| Tnft     | approve                 | 49115                      | 48606                        | -509             | -1.04%                    |
| Tnft     | burn                    | 29294                      | 28719                        | -575             | -1.96%                    |
| Tnft     | mint                    | 71383                      | 70599                        | -784             | -1.10%                    |
| Tnft     | safeTransferFrom        | 56079                      | 55074                        | -1005            | -1.79%                    |
| Tnft     | setApprovalForAll       | 44418                      | 43839                        | -579             | -1.30%                    |
| Tnft     | transferFrom            | 54680                      | 53633                        | -1047            | -1.91%                    |
| **Deployments** |                   |                            |                              |                  |                           |
| TGame    | Deployment              | 2471491                    | 1631640                      | -839851          | -34.0%                    |
| TMoney   | Deployment              | 1196794                    | 790166                       | -406628          | -33.9%                    |
| Tnft     | Deployment              | 1943185                    | 1402823                      | -540362          | -27.8%                    |

### **Summary and Conclusions**

1. **Method Gas Usage:**
    - The average gas consumption for most methods has been reduced by a small but notable percentage after optimization. The reductions range from approximately 1% to 4%, with the highest reduction seen in the `transferFrom` method of `TMoney` at -3.29%.

2. **Deployment Costs:**
    - Deployment gas costs have seen significant reductions. `TGame`'s deployment gas decreased by 34.0%, `TMoney`'s by 33.9%, and `Tnft`'s by 27.8%. These reductions indicate substantial optimization benefits in deployment efficiency.

3. **Overall Efficiency:**
    - The optimizations generally lead to gas savings, improving efficiency for both transaction execution and contract deployment. The reductions, while varying, suggest that the optimizer has had a positive impact across the board.

In conclusion, the optimization has successfully reduced gas costs for method executions and contract deployments, resulting in more efficient smart contracts.